var inp=document.querySelector("input"),cont=document.querySelector(".container"),zero=document.querySelector(".zero"),mc=document.querySelector(".mc"),mr=document.querySelector(".mr"),mp=document.querySelector(".mp"),mm=document.querySelector(".mm"),ms=document.querySelector(".ms"),letterM=document.querySelector(".let_m"),memorySum=0,percent=document.querySelector(".percent"),pow=document.querySelector(".pow"),multiply=document.querySelector(".multiply"),minus=document.querySelector(".minus"),plus=document.querySelector(".plus"),divide=document.querySelector(".divide"),dot=document.querySelector(".dot-btn"),equal=document.querySelector(".equal"),sqrt=document.querySelector(".sqrt"),invprop=document.querySelector(".invprop"),negative=document.querySelector(".negative"),ce=document.querySelector(".inp-clear"),c=document.querySelector(".clear"),del=document.querySelector(".delete"),expAnyLastNumber=/(\d+)$|(\d+\.\d+)$|(-\d+)$|(-\d+\.\d+)$/,expSquare=/(□ \d+)$/,expLastZero=/^(0)$|(\s0)$/;function checkInputLength(){if(inp.value.length>=17)return!0}function checkLastNum(){return/(\d+)$/.test(inp.value)}function checkSquare(){if(expSquare.test(inp.value))return!0}function checkLastZero(e){if(expLastZero.test(inp.value))return!0;inp.value=inp.value+e.target.innerText}function countMemory(e){if(checkSquare()){var n=inp.value.match(expAnyLastNumber);console.log(n),"+"===e&&(memorySum+=parseFloat(n[0])),memorySum-=parseFloat(n[0])}}function enteringNumber(e){checkInputLength(),e.target.classList.contains("num_btn")&&checkLastZero(e)}function enteringZero(e){checkInputLength(),checkLastZero(e)}function enteringDot(){if(checkInputLength(),expSquare.test(inp.value))return!0;checkLastNum()&&!/(\d+\.\d+)$|(\d+\.)$/.test(inp.value)&&(inp.value=inp.value+".")}function checkMemory(){"none"===getComputedStyle(letterM).display&&(letterM.style.display="block")}function clearMemory(){memorySum=0,letterM.style.display="none"}function plusMemory(){checkMemory(),countMemory("+")}function minusMemory(){checkMemory(),countMemory("-")}function saveMemory(){if("none"===getComputedStyle(letterM).display&&expAnyLastNumber.test(inp.value)){var e=inp.value.match(expAnyLastNumber);memorySum=parseFloat(e[0]),letterM.style.display="block"}}function readMemory(){inp.value=memorySum}function checkLastInt(e){if(checkInputLength(),/(\d+)$/.test(inp.value)&&inp.value.length>0&&(inp.value=inp.value+" "+e+" "),expSquare.test(inp.value)){var n=inp.value.match(/((\d+|\d+\.\d+) (□) (\d+))$/);inp.value=inp.value.substring(0,inp.value.length-n[0].length)+Math.pow(n[2],n[4])}}function square(){if(checkInputLength(),expSquare.test(inp.value))return!0;if(/(\d+\.\d+)$|(\d+)$/.test(inp.value)){var e=inp.value.match(/(\d+)$|(\d+\.\d+)$|(-\d+)$|(-\d+\.\d+)$/);if(e[0]<0)return!0;var n=e[0].length;inp.value=inp.value.substring(0,inp.value.length-n)+Math.sqrt(parseFloat(e[0]))}}function invpropFunc(){if(checkInputLength(),expSquare.test(inp.value))return!0;if(/(\d+\.\d+)$|(\d+)$/.test(inp.val())){var e=inp.value.match(/(\d+\.\d+)$|(\d+)$/),n=e[0].length;inp.value=inp.value.substring(0,inp.value.length-n)+1/e[0]}}function negativeNum(){if(expSquare.test(inp.value))return!0;if(/(\d+)$|(\d+\.\d+)$/.test(inp.value)){var e=inp.value.match(/(\d+)$|(\d+\.\d+)$|(-\d+)$|(-\d+\.\d+)$/);e[0]>0?inp.value=inp.value.substring(0,inp.value.length-e[0].length)+-1*parseFloat(e[0]):e[0]<0&&(inp.value=inp.value.substring(0,inp.val().length-e[0].length)+Math.abs(parseFloat(e[0])))}}function clearInp(){inp.value=""}function clearAll(){clearInp(),"block"===getComputedStyle(letterM).display&&clearMemory()}function clearOneSign(){if(/(\s)$/.test(inp.value)&&(inp.value=inp.value.substring(0,inp.value.length-2)),/(-\d+)$/.test(inp.value)){var e=inp.value.match(/(-\d+)$/);inp.value=inp.value.substring(0,inp.value.length-e[1].length)}inp.value=inp.value.substring(0,inp.value.length-1)}function equalFunc(){if(/(\s)$/.test(inp.value))return!0;if(/'□' \d+/.test(inp.value)){var e=inp.value.match(/((\d+|\d+\.\d+) (□) (\d+))$/);inp.value=inp.value.substring(0,inp.value.length-e[0].length)+Math.pow(e[2],e[4])}var n=inp.value.match(/(\d+\.\d+)|(-\d+\.\d+)|(\d+)|(-\d+)/g),t=inp.value.match(/[-+%×÷]/g);function u(e,u,c){if(void 0===c&&(c=null),c&&(t.includes(e)&&!t.includes(u)||t.includes(e)&&t.indexOf(e)<t.indexOf(u)<t.indexOf(c))){var l=t.indexOf(e),i=0;return"+"===e&&(i=parseFloat(n[l])+parseFloat(n[l+1])),"-"===e&&(i=parseFloat(n[l])-parseFloat(n[l+1])),"%"===e&&(i=parseFloat(n[l])/100*parseFloat(n[l+1])),n.splice(l,2),t.splice(l,1),n.splice(l,0,i),!0}if(t.includes(e)&&!t.includes(u)||t.includes(e)&&t.indexOf(e)<t.indexOf(u)){l=t.indexOf(e),i=0;"×"===e&&(i=parseFloat(n[l])*parseFloat(n[l+1])),"÷"===e&&(i=parseFloat(n[l])/parseFloat(n[l+1])),n.splice(l,2),t.splice(l,1),n.splice(l,0,i)}}!function(){for(var e=0;e<=t.length;e++)u("×","÷"),u("÷","×"),u("+","-","%"),u("-","+","%"),u("%","+","-")}(),inp.value=Math.floor(n[0])}cont.onclick=enteringNumber,zero.onclick=enteringZero,dot.onclick=enteringDot,mc.onclick=clearMemory,mr.onclick=readMemory,mp.onclick=plusMemory,mm.onclick=minusMemory,ms.onclick=saveMemory,percent.onclick=function(){checkLastInt("%")},pow.onclick=function(){checkLastInt("□")},divide.onclick=function(){checkLastInt("÷")},multiply.onclick=function(){checkLastInt("×")},minus.onclick=function(){checkLastInt("-")},plus.onclick=function(){checkLastInt("+")},sqrt.onclick=square,invprop.onclick=invpropFunc,negative.onclick=negativeNum,ce.onclick=clearInp,c.onclick=clearAll,del.onclick=clearOneSign,equal.onclick=equalFunc;
//# sourceMappingURL=Calculator.js.map